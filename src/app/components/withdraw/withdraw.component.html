<mat-card class="container">
  <mat-card-title>Withdraw</mat-card-title>
  <mat-card-content>
    <mat-form-field appearance="fill">
      <mat-label>Switch Account</mat-label>
      <mat-select [ngModel]="switch" (ngModelChange)="switchBetweenAccounts($event)">
        <mat-option  *ngFor="let accounts of userData['accounts']" value="{{accounts['accountNumber']}}">{{accounts['accountNumber']}} | {{accounts['type']}}</mat-option>
      </mat-select>
    </mat-form-field>
  </mat-card-content>
  <mat-divider></mat-divider>
  <mat-card-content>
    <app-account-profile></app-account-profile>
  </mat-card-content>
  <mat-card-content *ngFor="let info of userData['accounts']" >
    <span  class="d-flex flex-wrap justify-content-between" *ngIf="info['accountNumber'] == selectedAccount">
      <div class="border-primary border table-active p-4 flex-grow-1"><mat-label>Account Number </mat-label><br/><mat-label class="text-black-50">{{info['accountNumber']}}</mat-label></div>
      <div class="border-primary border table-active p-4 flex-grow-1" ><mat-label>Balance</mat-label><br/><mat-label class="text-black-50">R{{info['balance']}}</mat-label></div>
      <div  class="border-primary border table-active p-4 flex-grow-1"><mat-label>Overdraft</mat-label><br/><mat-label class="text-black-50">R{{info['overdraft']}}</mat-label></div>
      <div class="border-primary border table-active p-4 flex-grow-1"><mat-label>Account Type</mat-label><br/><mat-label class="text-black-50">{{info['type']}}</mat-label></div>
    </span>
  </mat-card-content>
  <mat-card-content class="mt-4 mb-4">

    <mat-label>Amount:</mat-label>
    <form [formGroup]="withdrawForm" (ngSubmit)="performWithdrawal()">
      <div class="form-group">

        <input type="number"  name="amount" formControlName="amount" class="form-control" placeholder="R0.00" />

      </div>
      <div class="form-group">
        <button class="btn btn-outline-success" name="deposit">Proceed</button>
      </div>
    </form>
  </mat-card-content>
  <mat-divider></mat-divider>
  <mat-card-content >
    <div class="pt-4">
      <a routerLink="/profile" class="btn btn-secondary">Back</a>
      <app-logout></app-logout>
    </div>
  </mat-card-content>
</mat-card>
